
{% extends "base.html" %}

{% block content %}
<div class="space-y-6">
    <div class="flex justify-between items-center">
        <h2 class="text-2xl font-bold">Training Modules</h2>
        <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
            <i class="fas fa-plus mr-2"></i> Create Module
        </button>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="modules-container">
        <!-- Modules will be loaded here -->
    </div>
</div>

<script>
// Fetch modules data and populate the page
fetch('/api/modules')
    .then(response => response.json())
    .then(modules => {
        const container = document.getElementById('modules-container');
        container.innerHTML = '';
        
        modules.forEach(module => {
            const moduleCard = document.createElement('div');
            moduleCard.className = 'bg-white rounded-lg shadow hover:shadow-md transition-shadow';
            moduleCard.innerHTML = `
                <div class="p-5">
                    <div class="flex justify-between items-start">
                        <h3 class="text-lg font-semibold">${module.title}</h3>
                        <span class="bg-gray-200 text-gray-800 text-xs px-2 py-1 rounded">Not Started</span>
                    </div>
                    <p class="text-gray-600 text-sm mt-2">${module.description}</p>
                    <div class="flex justify-between text-sm text-gray-500 mt-4">
                        <span class="flex items-center">
                            <i class="far fa-clock mr-1"></i> ${module.duration} min
                        </span>
                        <span>${module.category}</span>
                    </div>
                </div>
                <div class="px-5 py-3 bg-gray-50 border-t flex justify-between">
                    <button class="text-blue-600 hover:text-blue-800">
                        <i class="fas fa-play mr-1"></i> Preview
                    </button>
                    <button class="bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700">
                        Assign
                    </button>
                </div>
            `;
            container.appendChild(moduleCard);
        });
    });
</script>
{% endblock %}
